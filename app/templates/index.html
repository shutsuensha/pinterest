{% extends "base.html" %}

{% block head %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Function to get cookie by name
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
      return null;
    }

    // Check for access_token in cookies
    const accessToken = getCookie("access_token");

    // Toggle visibility of auth and notauth divs
    if (accessToken) {
      document.getElementById("auth").classList.remove("hidden");
    } else {
      document.getElementById("notauth").classList.remove("hidden");
    }
  });
</script>
{% endblock %}

{% block content %}
<div id="auth" class="hidden">
  <p>You are authenticated!</p>
</div>

<div id="notauth" class="hidden">
  <p>You are not authenticated. Please log in.</p>
</div>
{% endblock %}